let loadData = () => {
  return new Promise( resolve => {
    console.log('client1 ---------->' , client1)
    resolve(db.generateBulkData(client1)).then(() => {
      client1.stop(((err, state) => {
        process.exit();
      }));
    });
})

(async () => {
  try {
    let result = await loadData();
    console.log('getting to finally')
    client1.stop(((err, state) => {
      process.exit();
    }));
  } catch (err) {
    client1.stop(((err, state) => {
      process.exit();
    }));
    console.log('error thrown');
  }
})()